## **РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ**
### **Факультет физико-математических и естественных наук**
### **Кафедра прикладной информатики и теории вероятностей**

**ОТЧЕТ
ПО ЛАБОРАТОРНОЙ РАБОТЕ № 7**

дисциплина: Операционные системы 

**Студент:** 

Афтаева Ксения Васильевна

**Преподаватель:** 

Велиева Т.В.

**Группа:** НПИбд-01-20

**МОСКВА**
2021 г.

### Цель работы: 

Ознакомление с инструментами поиска файлов и фильтрации текстовых данных. Приобретение практических навыков: по управлению процессами (и заданиями), по проверке использования диска и обслуживанию файловых систем.

### Задачи:

Изучить теоретический материал, выполнить действия, описанные в задании, ответить на контрольные вопросы.

### Объект и предмет исследования:

ОС Linux, инструменты поиска файлов

### Техническое оснащение:

Ноутбук, на котором установлена виртуальная машина с линукс

### Теоретические вводные данные[[1]](https://esystem.rudn.ru/pluginfile.php/1142365/mod_resource/content/2/004-lab_proc.pdf)

Конвейер - служит для объединения простых команд или утилит в цепочки, в которых результат работы предыдущей команды передаётся последующей. Синтаксис следующий: ```команда 1 | команда 2```

Любую выполняющуюся в консоли команду или внешнюю программу можно запустить в фоновом режиме. Для этого следует в конце имени команды указатьзнак амперсанда **&**.  Консоль при этом не
будет заблокирована.

Запущенные фоном программы называются **задачами**. Ими можно управлять с помощью команды ```jobs```, которая выводит список запущенных в данный момент задач. Для завершения задачи необходимо выполнить команду ```kill %номер задачи```. 

### Условные обозначения и символы:

**&** - указывается в конце имени команды для запуска в фоновом режиме. 

### Выполнение работы:

1. Осуществила вход в систему, используя соответствующее имя пользователя (Рис.1)

![](https://sun9-41.userapi.com/impg/DvgsE9hY9mFrR7eaj1yMasZ5SOTv6fQk1B6NpA/2bagzCzot1w.jpg?size=463x295&quality=96&sign=22906b9fb7c25172fc2ae923f7172ad8&type=album)

*Рис.1 Вход в систему*

В моем случае имя пользователя соответствует логину в ДК - **kvaftaeva**. 

2. Записала в файл **file.txt** названия каталогов, содержащихся в каталоге **/etc** командой ```ls /etc >file.txt```. Дописала в этот же файл названия файлов, содержащихся в домашнем каталоге командой ```ls >>file.txt``` (Рис.2)

![](https://sun9-20.userapi.com/impg/wkqNFhKZD-6__8ZNql0XfEXxVtxbqyQ45RhkqQ/2O1zI36eWG8.jpg?size=492x52&quality=96&sign=8363476b191850e02b6b26b23f25e255&type=album)

*Рис.2 Записывание названий файлов из двух каталогов в файл file.txt*

В данном пункте не вывожу содержимое для проверки, так как вывод содержимого в различных вариациях будет выполнен далее.

3. Вывела имена всех файлов из **file.txt**, имющих расширение **.conf** командой ```grep .conf file.txt``` (Рис.3)

![](https://sun9-63.userapi.com/impg/YYp2mCh1FVMyV0Z2NBfr6YVVQh__l2w_NuD1EQ/4qslqyISRII.jpg?size=502x37&quality=96&sign=758073d11653ab1bd69243d2c9002d25&type=album)

*Рис.3 Команда для вывода имен файлов с расширением .conf*

Как результат, выводятся имена таких файлов. Для отчета предоставляю скриншот некоторых из них (Рис.4)

![](https://sun9-72.userapi.com/impg/MjLe21l1FfFsXPKyV7vFjlFMjdFsTvAy8g4pzA/sWJuuPJvg0Y.jpg?size=258x252&quality=96&sign=ff54e0af16abe9e708eab502ee37b9ef&type=album)

*Рис.4 Вывод имен файлов с расширением .conf*

Записала их в новый текстовый файл **conf.txt** с помощью команды ```grep .conf file.txt >conf.txt``` (Рис.5)

![](https://sun1-30.userapi.com/impg/Xd9pVMY1En5eKVW4DEF3zlWyXoH7Qt44lnEKIA/2KTsK9sqPXE.jpg?size=573x40&quality=96&sign=4de9784dd0e2cad585a75813269728fd&type=album)

*Рис.5 Записывание в файл*

4. Определила, какие файлы в моем домашнем каталоге имеют имена, начинающие с символа **c**. Сделала это двумя вариантами: 
- с помощью команды ```find ~ -name "c*" -print``` (Рис.6)

![](https://sun9-71.userapi.com/impg/96yr68OswllaVLzYYuu3GGvwNc6NyLGitfFvdQ/GjXgfeGqxmY.jpg?size=471x35&quality=96&sign=d0919bbd3bbe8aa3490a8364f8d9e0f8&type=album)

*Рис.6 Поиск файлов, начинающихся с символа с*

В результате выводятся имена файлов. Для отчета предоставляю скриншот некоторых из них (Рис.7)

![](https://sun9-36.userapi.com/impg/_f61o4-l7xTIOlDPw_8-NenhqVjblkwX_NXqJg/_8VzbZHf_nE.jpg?size=596x138&quality=96&sign=414b2ebbee57999f6daa17a39cd7c1c4&type=album)

*Рис.7 Файлы, начинающиеся с символа с*

- с помощью команды ```ls -l | grep c*``` (Рис.8)

![](https://sun9-56.userapi.com/impg/SlTN9zm0SfAOq0OwoKIYJU19Cap0lPIpK0lKVg/f9T4sbXLxh0.jpg?size=567x40&quality=96&sign=e36acb210e4c86f95bac9564e34c78df&type=album)

*Рис.8 Второй вариант поиска файлов, начинающихся с символа с*

5. Вывела на экран имена файлов из каталога **/etc**, начинающиеся с символа **h** с помощью команды ```find /etc -name "h*" -print | more``` (Рис.9)

![](https://sun9-3.userapi.com/impg/v5MAbVV6ZgETaz0nJL12ow1zpjRaSDDSQ9TV_Q/d58jgRfovwc.jpg?size=534x38&quality=96&sign=35574c146550d393b37dde8dfd11d7f6&type=album)

*Рис.9 Команда для вывода файлов, начинающихся с символа h*

Фрагмент результата (Рис.10)

![](https://sun9-18.userapi.com/impg/gMNsWRmiyw83r50-i2tXPFjDA6yj-ClL8ExV4w/cr3rcohxUo4.jpg?size=384x242&quality=96&sign=82590b056d1a02c07012c3cdd3986884&type=album)

*Рис.10 Вывод файлов, начинающихся с символа h*

6. Запустила в фоновом режиме процесс, который будет записывать в файл **~/logfile** файлы, имена которых начинаются с **log** с  помощью команды ```find -name "log*" -print >logfile &```. Удалила файл **logfile** командой ```rm``` (Рис.11)

![](https://sun9-37.userapi.com/impg/E-Ntk1ktgwx53kPvTOWkYkqro2TjWzd8IEbxxQ/L8nDHeIHc1c.jpg?size=616x139&quality=96&sign=158c5b2f0c1d8f303e71ba4d3228ca3c&type=album)

*Рис.11 Процесс, записывающий файлы, имена которых начинаются с log*

Пробую еще раз удалить для проверки, видим, что файл удален. 

7. Запустила из консоли в фоновом режиме редактор **gedit** командой ```gedit &```. Определила идентификатор процесса, использовав команду ```ps axu | grep gedit```. Прочитала справку о команде **kill**, после чего использовла ее для завершения процесса **gedit**, введя команду ```kill <идентификатор процесса>``` (Рис.12)

![](https://sun1-28.userapi.com/impg/aki124LlrBT9Qm5ToFzfo2wao_TRrhQRsJsCmA/c2Hnj0gOBV0.jpg?size=559x131&quality=96&sign=4cdd9437ba4f01b38ff9d41dbda5adee&type=album)

*Рис.12 Работа с gedit*

8. Выполнила команду ```df``` (Рис.13)

![](https://sun9-64.userapi.com/impg/QOthasRyTa5tlo0ionuoLLRVTMKB633iuCiyJA/R60Z0nedXKc.jpg?size=578x113&quality=96&sign=0c4ee21471aaa3264c117589b9aa9bb4&type=album)

*Рис.13 Команда df*

Команда ```df``` показывает размер каждого смонтированного раздела диска.

Выполнила команду ```du``` (Рис.14)

![](https://sun9-31.userapi.com/impg/RNOeNGmPIDT41c1HlMAXLRUEk76_V5fNQUA-QA/hdijgsCQ--U.jpg?size=550x280&quality=96&sign=b369cf133302c900e0d16c7c6ce7d4f3&type=album)

*Рис.14 Команда du*

Команда ```du``` показывает число килобайт, используемое каждым файлом или каталогом.

9. Вывела имена всех директорий, имеющихся в домашнем каталоге командой ```find -type d``` (Рис.15)

![](https://sun9-73.userapi.com/impg/cvLlY-BzmhOdXkJKP_ObldmqjjDPmegSrKjA8A/AYvf5_9PG50.jpg?size=664x50&quality=96&sign=cc7c49c1a34e73288e9ccc86c4948f72&type=album)

*Рис.15 Вывод директорий*

Результат выполнения (Рис.16)

![](https://sun9-2.userapi.com/impg/4l38M8Ssdtypz_4s_1-8vNMnu2I8CbkSmHwLzg/SC-s9JpkSRk.jpg?size=421x245&quality=96&sign=9e84adf7301cd9086fd46a1af374afe0&type=album)

*Рис.16 Результат вывода директорий*

### Контрольные вопросы: [[1]](https://esystem.rudn.ru/pluginfile.php/1142365/mod_resource/content/2/004-lab_proc.pdf) , [[2]](https://stackoverflow.com/)

1. 
- **stdin** — стандартный поток ввода (клавиатура)
- **stdout** — стандартный поток вывода (консоль)
- **stderr** — стандартный поток вывод сообщений об ошибках на экран

2. "**>**" для переназначения стандартного ввода команды, "**>>**" для присоединения данных в конец файла стандартного вывода команды(файл открывается в режиме добавления)

3. Способ связи между двумя программами. Конвейер служит для объединения простых команд или утилит в цепочки, в которых результат работы предыдущей команды передается последующей.

4. Программа, которая выполняется в отдельном виртуальном адресном пространстве. Когда пользователь регистрируется в системе, автоматически создается процесс, в котором выполняется оболочка (*shell*), например, **/bin/bash**

5. **Process ID(PID)** - идентификатор порожденного процесса. **Group ID (GID)** - идентификация группы пользователей.

6. Запущенные фоном программы называются задачами (*jobs*). Ими можно управлять с помощью команды ```jobs```, которая выводит список запущенных в данный момент задач. Для завершения задачи необходимо выполнить команду : ```kill %номер задачи```

7. **top** — консольная команда, которая выводит список работающих в системе процессов и информации о них. По умолчанию она в реальном времени сортирует их по нагрузке на процессор.

**htop** — компьютерная программа, предназначенная для вывода на терминал списка запущенных процессов и информации о них . Создана, как альтернатива программы top

8. Команда ```find``` используется для поиска и отображения имен файлов,соответствующих заданной строке символов.
Формат команды: ```find путь [-опции]```

Путь определяет каталог, начиная с которого по всем подкаталогам будет вестись поиск.

Пример: вывести на экран имена файлов из вашего домашнего каталога и его подкаталогов, начинающихся на f: ```find ~ -name "f*" -print```.

9. Можно, команда ```grep``` способна обрабатывать стандартный вывод других команд (любой текст). Для этого следует использовать конвейер, связав вывод команды с вводом grep.

Пример: показать строки во всех файлах в вашем домашнем каталоге с именами начинающимися на f, в которых есть слово begin: ```grep begin f*```

10. Команда ```df``` показывает размер каждого смонтированного раздела диска.

11. Команда ```du``` показывает число килобайт, используемое каждым файлом или каталогом.

12. Найти **PID** зависшего процесса с помощью команды ```ps axu | grep <имя процесса>``` и удалить процесс с помощью команды ```kill```

### Заключение:

Таким образом, все пункты задания были выполнены, навыки работы с инструментами поиска файлов и управлению процессами получены.

### Вывод:

Я ознакомилась с инструментами поиска файлов и фильтрации текстовых данных. Приобрела практические навыки: по управлению процессами (и заданиями), по проверке использования диска и обслуживанию файловых систем.

### Библиографический список:

[1]: [Указания к лабораторной работе №6](https://esystem.rudn.ru/pluginfile.php/1142365/mod_resource/content/2/004-lab_proc.pdf)

[2]: [Платформа для разработчиков](https://stackoverflow.com/)